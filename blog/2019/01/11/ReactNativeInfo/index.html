<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>移动端ReactNative技术架构介绍 · Cocina</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;!-- ![rn](https://img-blog.csdn.net/20151001111315780) 显示图片链接--&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="移动端ReactNative技术架构介绍 · Cocina"/><meta property="og:type" content="website"/><meta property="og:url" content="https://angry-kitchen.github.io/cocina-website/blog/2019/01/11/ReactNativeInfo"/><meta property="og:description" content="&lt;!-- ![rn](https://img-blog.csdn.net/20151001111315780) 显示图片链接--&gt;"/><meta property="og:image" content="https://angry-kitchen.github.io/cocina-website/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://angry-kitchen.github.io/cocina-website/img/docusaurus.png"/><link rel="shortcut icon" href="/cocina-website/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://angry-kitchen.github.io/cocina-website/blog/atom.xml" title="Cocina Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://angry-kitchen.github.io/cocina-website/blog/feed.xml" title="Cocina Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/cocina-website/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/cocina-website/"><img class="logo" src="/cocina-website/img/docusaurus.svg" alt="Cocina"/><h2 class="headerTitleWithLogo">Cocina</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/cocina-website/docs/doc1" target="_self">文档</a></li><li class=""><a href="/cocina-website/docs/component" target="_self">UI组件</a></li><li class=""><a href="/cocina-website/docs/doc4" target="_self">API</a></li><li class=""><a href="/cocina-website/help" target="_self">帮助</a></li><li class="siteNavGroupActive"><a href="/cocina-website/blog/" target="_self">博客</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Recent Posts</h3><ul><li class="navListItem navListItemActive"><a class="navItem" href="/cocina-website/blog/2019/01/11/ReactNativeInfo">移动端ReactNative技术架构介绍</a></li><li class="navListItem"><a class="navItem" href="/cocina-website/blog/2019/01/11/ReactNativeDisplayIOS">ReactNative上架IOS</a></li><li class="navListItem"><a class="navItem" href="/cocina-website/blog/2016/03/11/blog-post">Blog Title</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/cocina-website/blog/2019/01/11/ReactNativeInfo">移动端ReactNative技术架构介绍</a></h1><p class="post-meta">January 11, 2019</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">冯利</a></p></div></header><div><span><!-- ![rn](https://img-blog.csdn.net/20151001111315780) 显示图片链接-->
<!-- 基本语法网站 https://shd101wyy.github.io/markdown-preview-enhanced/#/zh-cn/markdown-basics?id=%E9%93%BE%E6%8E%A5 -->
<p>React Native 让开发者使用 JavaScript 和 React 编写应用，利用相同的核心代码就可以创建 iOS 和 Android 跨平台的原生应用，React Native 的宗旨是，学习一次，高效编写跨平台原生应用。<a href="https://facebook.github.io/react-native/">ReactNative官网</a></p>
<!--truncate-->
<h2><a class="anchor" aria-hidden="true" id="开发需要了解的基础知识"></a><a href="#开发需要了解的基础知识" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发需要了解的基础知识</h2>
<ul>
<li><a href="http://www.w3school.com.cn/html5/">HTML5</a></li>
<li><a href="http://www.w3school.com.cn/js/index.asp">JavaScript</a></li>
<li><a href="http://www.w3school.com.cn/css3/">CSS3</a></li>
<li><a href="https://reactjs.org/">React</a></li>
<li><a href="https://facebook.github.io/react-native/">ReactNative</a></li>
<li><a href="https://redux.js.org/">Redux</a></li>
<li><a href="https://dvajs.com/">Dva</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="开发需要安装的工具"></a><a href="#开发需要安装的工具" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发需要安装的工具</h2>
<ul>
<li><a href="https://www.cnblogs.com/smyhvae/p/3788534.html">JDK的相关配置</a>
<ul>
<li><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">JDK8下载</a></li>
</ul></li>
<li><a href="https://www.jianshu.com/p/f5b4ba099f66">Git的相关配置</a>
<ul>
<li><a href="https://www.git-scm.com/downloads">Git下载</a></li>
</ul></li>
<li><a href="https://blog.csdn.net/Piston_zg/article/details/77284116">AndroidStudio的相关配置</a>
<ul>
<li><a href="http://www.android-studio.org/">AndroidStudio下载</a></li>
</ul></li>
<li><a href="https://www.cnblogs.com/liuqiyun/p/8133904.html">Nodejs的相关配置</a>
<ul>
<li><a href="https://nodejs.org/en/download/">Nodejs下载</a></li>
</ul></li>
<li><a href="https://jingyan.baidu.com/article/642c9d3430c2ec644a46f7d6.html">VSCode的相关配置</a>
<ul>
<li><a href="https://code.visualstudio.com/">VSCode下载</a></li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="reactnative环境的配置"></a><a href="#reactnative环境的配置" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ReactNative环境的配置</h2>
<h4><a class="anchor" aria-hidden="true" id="开发工具vscode插件的安装"></a><a href="#开发工具vscode插件的安装" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发工具VSCode插件的安装</h4>
<p>打开VSCode,在拓展里面搜索以下插件进行安装</p>
<ul>
<li><code>EditorConfig for VS Code</code>设置文件的编码格式</li>
<li><code>ESLint</code>编码格式的检测工具</li>
<li><code>JavaScript (ES6) code snippets</code>此扩展包含用于VS代码编辑器的ES6语法中的JavaScript代码段</li>
<li><code>React Native Tools</code>编辑ReactNative时候代码片段的提示工具</li>
<li><code>Reactjs code snippets</code>编辑React时候代码片段的提示工具</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="真机开发安卓手机的设置"></a><a href="#真机开发安卓手机的设置" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>真机开发安卓手机的设置</h4>
<ol>
<li><p>设置手机为开发者模式（设置-&gt;关于手机-&gt;连续点击MIUI版本——开启成功）</p></li>
<li><p>在更多设置中找到系统安全设置——允许安装未知来源的应用</p></li>
<li><p>在更多设置中选择开发者选项，在开发者选项中同时勾选USB调试和USB安装的开关</p></li>
</ol>
<h4><a class="anchor" aria-hidden="true" id="电脑开发环境的配置-具体请参考官网-reactnative环境配置-https-facebookgithubio-react-native-docs-getting-startedhtml"></a><a href="#电脑开发环境的配置-具体请参考官网-reactnative环境配置-https-facebookgithubio-react-native-docs-getting-startedhtml" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>电脑开发环境的配置，具体请参考官网<a href="https://facebook.github.io/react-native/docs/getting-started.html">ReactNative环境配置</a></h4>
<p>在你的工作目录下面右击鼠标，点击GitBush 会弹出git命令窗口，执行以下命令：</p>
<ol>
<li>安装ReactNative的cli</li>
</ol>
<p><code>npm install -g react-native-cli</code></p>
<ol start="2">
<li>可以安装yarn来替换npm的命令</li>
</ol>
<p><code>npm install -g yarn</code></p>
<ol start="3">
<li>创建ReactNative工程</li>
</ol>
<p><code>react-native init AwesomeProject</code></p>
<p>指定具体版本：<code>react-native init AwesomeProject --version 0.55.4</code></p>
<ol start="4">
<li>进入创建工程的文件夹下</li>
</ol>
<p><code>cd AwesomeProject</code></p>
<ol start="5">
<li>手机连接电脑，执行下面的命令安装应用到手机</li>
</ol>
<p><code>react-native run-android</code></p>
<ol start="6">
<li>如果应用安装成功并且显示下图表示开发环境配置成功</li>
</ol>
<p><img src="/cocina-website/images/hello_react.png" alt="An image"></p>
<h2><a class="anchor" aria-hidden="true" id="工程的目录介绍"></a><a href="#工程的目录介绍" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工程的目录介绍</h2>
<p><img src="/cocina-website/images/menu.png" alt="An image"></p>
<h4><a class="anchor" aria-hidden="true" id="android和ios文件"></a><a href="#android和ios文件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>android和ios文件</h4>
<p>android和ios文件夹如果我们不做原生开发不需要关心他们，我们写的React代码会在打包的时候会自动发布到ios和android工程里面</p>
<h4><a class="anchor" aria-hidden="true" id="appjs文件的介绍"></a><a href="#appjs文件的介绍" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>App.js文件的介绍</h4>
<p>App.js是项目的入口文件</p>
<h4><a class="anchor" aria-hidden="true" id="packagejson文件的介绍"></a><a href="#packagejson文件的介绍" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>package.json文件的介绍</h4>
<p>package.json里面放的是我们工程所用到的一些依赖，如果之后有新的依赖我们都会通过这个文件来管理</p>
<h4><a class="anchor" aria-hidden="true" id="js文件夹目录的介绍"></a><a href="#js文件夹目录的介绍" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>js文件夹目录的介绍</h4>
<p>我们的主要编码工作在这个文件夹下面</p>
<ul>
<li><code>component</code>封装的公共组件</li>
<li><code>model</code>处理UI页面的业务逻辑，UUI页面可以通过发送action给model来处理请求然后把结果通过更新state状态值来更新页面。</li>
<li><code>pages</code>UI页面
<ul>
<li><code>login</code> 登录</li>
<li><code>main-tabs</code> 主页面</li>
<li><code>其他...</code></li>
</ul></li>
<li><code>res</code>配置公共样式和国际化的文件</li>
<li><code>router</code>页面路由的相关文件</li>
<li><code>services</code>APP做服务请求的相关代码</li>
<li><code>utils</code>一些公用的工具方法</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="工程会用到的一些依赖介绍"></a><a href="#工程会用到的一些依赖介绍" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工程会用到的一些依赖介绍</h4>
<ul>
<li><a href="https://dvajs.com/">dva-core</a></li>
</ul>
<p><code>dva 是基于 redux 最佳实践 实现的 framework，简化使用 redux 和 redux-saga 时很多繁杂的操作</code></p>
<ul>
<li><a href="https://github.com/rebeccahughes/react-native-device-info">react-native-device-info</a></li>
</ul>
<p><code>用来获取设备相关信息</code></p>
<ul>
<li><a href="https://reactnavigation.org/">react-navigation</a></li>
</ul>
<p><code>页面导航的使用</code></p>
<ul>
<li><a href="https://oblador.github.io/react-native-vector-icons/">react-native-vector-icons图标</a> <a href="https://oblador.github.io/react-native-vector-icons/">git地址</a></li>
</ul>
<p><code>图标的使用</code></p>
<ul>
<li><a href="https://github.com/facebook/prop-types">PropType</a></li>
</ul>
<p><code>对react组件中props对象中的变量进行类型检测</code></p>
<h2><a class="anchor" aria-hidden="true" id="代码说明"></a><a href="#代码说明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>代码说明</h2>
<h4><a class="anchor" aria-hidden="true" id="工程git地址"></a><a href="#工程git地址" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工程Git地址</h4>
<p><code>git@git.cs2025.com:apps/rn-project.git</code></p>
<h4><a class="anchor" aria-hidden="true" id="入口文件"></a><a href="#入口文件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>入口文件</h4>
<p>入口文件基本都配置好了，下面做一些大致的说明</p>
<p>APP.js是入口文件，代码里面加载的是AppContent，他的里面是一个路由Router</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> app = dva({
  <span class="hljs-attr">initialState</span>: {}, <span class="hljs-comment">// 配置一些初始化的state值</span>
  models: [...Models], <span class="hljs-comment">// 把model放入dva进行管理</span>
  extraReducers: { <span class="hljs-attr">router</span>: routerReducer }, <span class="hljs-comment">// 把导航路由交给redux管理，简单说就是配置了这里就可以在model里面通过dispatch进行页面跳转</span>
  onAction: [createLogger(), routerMiddleware], <span class="hljs-comment">// 在此放置路由中间件，和routerReducer配套使用</span>
  onError(e) { <span class="hljs-comment">// 打印全局错误日志</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onError'</span>, e);
  },
});

<span class="hljs-keyword">const</span> App = app.start(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AppContent</span> /&gt;</span>); // 根视图

registerAppStore(app._store);

export default App;
</span></code></pre>
<p>AppContent里面是一个路由Router,Router里面加载是一个导航AppNavigator</p>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// 创建导航页面</span>
<span class="hljs-keyword">const</span> AppNavigator = createStackNavigator(
  <span class="hljs-comment">// 导航里面的页面，其中页面也可以是一个导航比如这里的MainNavigator，我们之后主要的业务是在Main页面上进行拓展</span>
  {
    <span class="hljs-attr">Main</span>: { <span class="hljs-attr">screen</span>: MainNavigator },
    <span class="hljs-attr">Login</span>: { <span class="hljs-attr">screen</span>: Login },
  },
  {
    <span class="hljs-attr">initialRouteName</span>: <span class="hljs-string">'Main'</span>, <span class="hljs-comment">// 设置初始加载页面</span>
    headerMode: <span class="hljs-string">'none'</span>,
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'modal'</span>,
    <span class="hljs-attr">navigationOptions</span>: {
      <span class="hljs-attr">gesturesEnabled</span>: <span class="hljs-literal">false</span>,
    },
   ...
  },
);

<span class="hljs-comment">// 下面两步是把routerReducer和routerMiddleware配置给APP.js文件的dva实现对路由的管理，实现在model和组件里面能够使用NavigationActions.navigate()进行页面跳转等</span>

<span class="hljs-comment">// 创建导航的路由Reducer给redux管理</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> routerReducer = createNavigationReducer(AppNavigator);

<span class="hljs-comment">// 创建导航中间件并把路由交给state</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> routerMiddleware = createReactNavigationReduxMiddleware(
  <span class="hljs-string">'root'</span>,
  state =&gt; state.router,
);

<span class="hljs-comment">// 把导航绑定在root上</span>
<span class="hljs-keyword">const</span> Root = reduxifyNavigator(AppNavigator, <span class="hljs-string">'root'</span>);

<span class="hljs-comment">// 获取路由的名称</span>
<span class="hljs-keyword">const</span> getActiveRouteName = <span class="hljs-function">(<span class="hljs-params">navigationState</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!navigationState) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }
  <span class="hljs-keyword">const</span> route = navigationState.routes[navigationState.index];
  <span class="hljs-keyword">if</span> (route.routes) {
    <span class="hljs-keyword">return</span> getActiveRouteName(route);
  }
  <span class="hljs-keyword">return</span> route.routeName;
};

<span class="hljs-comment">// 返回给App.js的Router</span>
@connect(<span class="hljs-function">(<span class="hljs-params">{ app, router }</span>) =&gt;</span> ({ app, router }))
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Router</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">PureComponent</span> </span>{
  componentWillMount() { <span class="hljs-comment">// 绑定退回按钮事件</span>
    BackHandler.addEventListener(<span class="hljs-string">'hardwareBackPress'</span>, <span class="hljs-keyword">this</span>.backHandle);
  }

  componentWillUnmount() { <span class="hljs-comment">// 取消绑定退回按钮事件</span>
    BackHandler.removeEventListener(<span class="hljs-string">'hardwareBackPress'</span>, <span class="hljs-keyword">this</span>.backHandle);
  }

  <span class="hljs-comment">// 定义那些页面可以返回</span>
  backHandle = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> currentScreen = getActiveRouteName(<span class="hljs-keyword">this</span>.props.router);
    <span class="hljs-keyword">if</span> (currentScreen === <span class="hljs-string">'Login'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">if</span> (currentScreen !== <span class="hljs-string">'Main'</span>) {
      <span class="hljs-keyword">this</span>.props.dispatch(NavigationActions.back());
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  render() {
    <span class="hljs-keyword">const</span> { app, dispatch, router } = <span class="hljs-keyword">this</span>.props;
    <span class="hljs-keyword">if</span> (app.loading) <span class="hljs-keyword">return</span> &lt;Loading /&gt;;

    return &lt;Root dispatch={dispatch} state={router} /&gt;;
  }
}

export default Router;
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="示例-登录页面"></a><a href="#示例-登录页面" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>示例 登录页面</h4>
<p>下面用登录部分对如何创建一个页面进行说明</p>
<p>一般步骤 <code>1.新建一个component展示UI页面</code> <code>2.新建model处理UI页面的业务逻辑</code> <code>3.把component注册到导航里面</code> <code>4.如果涉及到网络请求的话再新建一个service处理网络请求</code></p>
<ul>
<li>新建一个component展示UI页面，比如Pages/login文件夹下面的index.js为登录的UI页面</li>
</ul>
<pre><code class="hljs css language-javascript">@connect(<span class="hljs-function">(<span class="hljs-params">{ auth }</span>) =&gt;</span> ({ <span class="hljs-comment">// 把models里面的auth和LoginPage对应起来</span>
  auth,
}))
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  @Debounce(<span class="hljs-number">400</span>, {
    <span class="hljs-attr">leading</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">trailing</span>: <span class="hljs-literal">false</span>,
  })
  onLogin() { <span class="hljs-comment">// 处理登录请求 发送action给auth进行处理</span>
    <span class="hljs-keyword">this</span>.props.dispatch(createAction(<span class="hljs-string">'auth/login'</span>)({
      <span class="hljs-attr">username</span>: <span class="hljs-string">'170132'</span>,
      <span class="hljs-attr">password</span>: <span class="hljs-string">'e10adc3949ba59abbe56e057f20f883e'</span>,
    }));
  }

  _onLogin = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">this</span>.onLogin();
  }

  <span class="hljs-comment">// UI页面</span>
  render() {
    <span class="hljs-keyword">return</span> (
      &lt;View flex paddingH-25 paddingT-120&gt;
        &lt;Text blue50 text20&gt;Welcome&lt;/Text&gt;
        &lt;TextInput text50 placeholder="用户名" dark10 /&gt;
        &lt;TextInput text50 placeholder="密码" secureTextEntry dark10 /&gt;
        &lt;View marginT-100 center&gt;
          &lt;Button text70 white background-orange30 label="登陆" onPress={this._onLogin} /&gt;
          &lt;Button link text70 orange30 label="注册" marginT-20 /&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    );
  }
}

export default LoginPage;
</code></pre>
<ul>
<li>新建model处理UI页面的业务逻辑，比如models文件夹下面处理登录请求的auth.js</li>
</ul>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">namespace</span>: <span class="hljs-string">'auth'</span>, <span class="hljs-comment">// 创建model的命名空间</span>
  state: { <span class="hljs-comment">// 给model里面的state初始化一些自定义的属性</span>
    login: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 判断是否登录成功</span>
    loading: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 是否正在加载loading</span>
    fetching: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 是否正在请求</span>
  },
  <span class="hljs-attr">reducers</span>: { <span class="hljs-comment">// 只能通过这里更新state状态值刷新登录页面</span>
    updateState(state, { payload }) {
      <span class="hljs-keyword">return</span> { ...state, ...payload };
    },
  },
  <span class="hljs-attr">effects</span>: {
    * loadStorage(_, { call, put }) { <span class="hljs-comment">// 检查是否登录过，没有登录跳转到登录页面</span>
      <span class="hljs-keyword">const</span> login = <span class="hljs-keyword">yield</span> call(Storage.get, <span class="hljs-string">'login'</span>, <span class="hljs-literal">false</span>) || <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">yield</span> put(createAction(<span class="hljs-string">'updateState'</span>)({ login, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> }));
      <span class="hljs-keyword">if</span> (!login) {
        <span class="hljs-keyword">yield</span> put(NavigationActions.navigate({ <span class="hljs-attr">routeName</span>: <span class="hljs-string">'Login'</span> }));
      }
    },
    * login({ payload }, { put, call }) { <span class="hljs-comment">// 发送登录请求</span>
      <span class="hljs-keyword">yield</span> put(createAction(<span class="hljs-string">'updateState'</span>)({ <span class="hljs-attr">fetching</span>: <span class="hljs-literal">true</span> }));<span class="hljs-comment">//更新fetch状态，表示开始处理登录请求</span>
      <span class="hljs-keyword">const</span> token = <span class="hljs-keyword">yield</span> call(authService.login, payload);<span class="hljs-comment">//发送登录请求给后台验证</span>
      <span class="hljs-keyword">let</span> login = <span class="hljs-literal">false</span>;
      <span class="hljs-comment">// 根据登录结果 判断返回主页面还是提醒请求失败</span>
      <span class="hljs-keyword">if</span> (token &amp;&amp; token.access) { <span class="hljs-comment">// 登录成功</span>
        <span class="hljs-keyword">yield</span> put(NavigationActions.back()); <span class="hljs-comment">// 这里之所以是back 是因为我们的根页面是Main，login是覆盖在上面的</span>
        <span class="hljs-keyword">yield</span> put(createAction(<span class="hljs-string">'updateState'</span>)({ token }));
        login = <span class="hljs-literal">true</span>;
        global.__TOKEN_ACCESS__ = token.access;
        <span class="hljs-keyword">yield</span> call(Storage.set, <span class="hljs-string">'token.access'</span>, token.access);
      } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// 登录失败</span>
        noticeByAlert(I18n.t(<span class="hljs-string">'optionsError'</span>).replace(<span class="hljs-string">'$'</span>, I18n.t(<span class="hljs-string">'page.account.login'</span>)), I18n.t(<span class="hljs-string">'pleseCheckAuth'</span>));
      }
      <span class="hljs-keyword">yield</span> put(createAction(<span class="hljs-string">'updateState'</span>)({ login, <span class="hljs-attr">fetching</span>: <span class="hljs-literal">false</span> })); <span class="hljs-comment">//表示请求完成</span>
      <span class="hljs-keyword">yield</span> call(Storage.set, <span class="hljs-string">'login'</span>, login);
    },
    * logout(_, { call, put }) { <span class="hljs-comment">// 注销跳转到登录页面</span>
      <span class="hljs-keyword">yield</span> call(Storage.set, <span class="hljs-string">'login'</span>, <span class="hljs-literal">false</span>);
      <span class="hljs-keyword">yield</span> put(createAction(<span class="hljs-string">'updateState'</span>)({ <span class="hljs-attr">login</span>: <span class="hljs-literal">false</span> }));
      <span class="hljs-keyword">yield</span> put(NavigationActions.navigate({ <span class="hljs-attr">routeName</span>: <span class="hljs-string">'Login'</span> }));
    },
  },
  <span class="hljs-attr">subscriptions</span>: {
    setup({ dispatch }) { <span class="hljs-comment">// 这里的方法会在app最初运行的时候被调用，这里表示发送请求给loadStorage方法判断是否登录过，是则显示主页面，没有则跳转到登录页面</span>
      dispatch({ <span class="hljs-attr">type</span>: <span class="hljs-string">'loadStorage'</span> });
    },
  },

};
</code></pre>
<ul>
<li>把component注册到导航里面</li>
</ul>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> AppNavigator = createStackNavigator(
  <span class="hljs-comment">// 导航里面的页面，其中页面也可以是一个导航比如这里的MainNavigator</span>
  {
    <span class="hljs-attr">Main</span>: { <span class="hljs-attr">screen</span>: MainNavigator },
    <span class="hljs-attr">Login</span>: { <span class="hljs-attr">screen</span>: Login }, <span class="hljs-comment">//注册登录页</span>
  },
  ...
);
</code></pre>
<ul>
<li>涉及网络请求的话再新建一个service处理网络请求，比如处理登录请求的Servers文件夹下面的auth.js</li>
</ul>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> AuthCode = {
  <span class="hljs-attr">clientAppId</span>: <span class="hljs-string">'APP_MES'</span>,
  <span class="hljs-attr">securityCode</span>: <span class="hljs-string">''</span>,
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> login = <span class="hljs-keyword">async</span> params =&gt; {
  <span class="hljs-keyword">const</span> defaultParams = AuthCode;
  <span class="hljs-keyword">const</span> newParams = { ...defaultParams, ...params }; <span class="hljs-comment">// 把请求参数和默认的参数进行集合</span>
  <span class="hljs-keyword">return</span> request(<span class="hljs-string">`<span class="hljs-subst">${bashUrl}</span>/login`</span>, { <span class="hljs-comment">//发送请求给后台</span>
    method: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">body</span>: newParams,
  }).then(mapToken); <span class="hljs-comment">// 处理返回数据</span>
};

<span class="hljs-keyword">const</span> mapToken = <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> token = {
    <span class="hljs-attr">access</span>: response.access_token,
    <span class="hljs-attr">refresh</span>: response.refresh_token,
  };
  <span class="hljs-keyword">return</span> token;
};
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="调试工具"></a><a href="#调试工具" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调试工具</h2>
<p>我们在工程目录下面右击鼠标选则git bash,会弹出命令窗口输入 yarn start 启动工程服务，启动成功后如下图</p>
<p><img src="/cocina-website/images/start_react.png" alt="An image"></p>
<p>手机连接电脑，我们打开androidStudio 导入我们工程目录下面的 android工程 ，选中app,点击三角型按钮安装app到手机</p>
<p><img src="/cocina-website/images/as1.png" alt="An image"></p>
<p>安装成功手机显示如下图</p>
<p><img src="/cocina-website/images/main.png" alt="An image"></p>
<p>摇一摇手机 会弹出 Developer Menu对话框 这里面有我们开发时候会用到的一些调试工具</p>
<p><img src="/cocina-website/images/dev_tool.png" alt="An image"></p>
<h4><a class="anchor" aria-hidden="true" id="reload"></a><a href="#reload" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>reload</h4>
<p>点击reload会重新加载页面，如果有异常，则会返回异常给手机，我们需要修复这些异常，然后再重新reload</p>
<h4><a class="anchor" aria-hidden="true" id="dev-settings"></a><a href="#dev-settings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dev Settings</h4>
<p>如果APP提示没有连接到Server就需要给手机配置启动服务电脑的IP地址，点击Dev Setting 再点击Debug Server Host 配置IP，配置好后再执行reload重新加载页面</p>
<p><img src="/cocina-website/images/dev_tool3.png" alt="An image"></p>
<h4><a class="anchor" aria-hidden="true" id="debug-js-remotely"></a><a href="#debug-js-remotely" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debug JS Remotely</h4>
<p>该功能可以通过浏览器调试APP代码,类似google浏览器的调试工具的使用</p>
<ol>
<li><p>安装react-devtools，右击鼠标 打开git bash命令窗口 输入 npm install -g react-devtools 进行安装</p></li>
<li><p>google浏览器调试会有跨域的问题，我是安装跨域的插件allow-control-allow-origin来解决的</p></li>
<li><p>以上两步完成后点击Debug JS Remotely，此时会弹出浏览器调试页面，能看到工程的代码目录表示浏览器调试工具启动成功</p></li>
</ol>
<p><img src="/cocina-website/images/dev_tool1.png" alt="An image"></p>
<h4><a class="anchor" aria-hidden="true" id="enable-live-reload"></a><a href="#enable-live-reload" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable Live Reload</h4>
<p>使用这个功能可以修改代码保存后直接自动reload，取消该功能点击 disable live reload 既可</p>
<h4><a class="anchor" aria-hidden="true" id="enable-hot-reloading"></a><a href="#enable-hot-reloading" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable hot Reloading</h4>
<p>使用这个功能可以实现修改某个页面后保存只刷新这个页面而不用所有页面重新加载 ，取消该功能点击 disable hot reload 既可</p>
<h4><a class="anchor" aria-hidden="true" id="toggle-inspector"></a><a href="#toggle-inspector" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Toggle Inspector</h4>
<p>点击后可以 看到四个选择项目 <code>inspect</code> <code>pref</code> <code>network</code> <code>touchables</code></p>
<p>点击<code>inspect</code>功能后点击某个元素可以查看该元素的布局</p>
<p><img src="/cocina-website/images/dev_tool4.png" alt="An image"></p>
<p>点击<code>network</code>后可以看到应用发出了那些请求</p>
<p><img src="/cocina-website/images/dev_tool6.png" alt="An image"></p>
<p>点击<code>touchables</code>后会把view用格子给标注出来</p>
<p><img src="/cocina-website/images/dev_tool7.png" alt="An image"></p>
<p>点击<code>pref</code>后可以</p>
<!-- #### Show Perf Monitor -->
<p>点击后可以查看app占用内存 UI渲染帧率等信息</p>
<p><img src="/cocina-website/images/dev_tool8.png" alt="An image"></p>
<!-- #### start/stop Sampling Profiler -->
<h4><a class="anchor" aria-hidden="true" id="react-devtools-的使用"></a><a href="#react-devtools-的使用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>react-devtools 的使用</h4>
<ol>
<li><p>安装react-devtools的命令 npm install -g react-devtools</p></li>
<li><p>打开命令输入行 执行 react-devtools 弹出如下窗口说明安装成功</p></li>
</ol>
<p><img src="/cocina-website/images/tool1.png" alt="An image"></p>
<ol start="3">
<li>摇一摇手机，选择Toggle Inspector 选中inpect后 点击屏幕的页面元素，该调试工具会定位到元素代码的位置，开发人员可以查看相关元素的信息</li>
</ol>
<p><img src="/cocina-website/images/tool3.png" alt="An image"></p>
<p><img src="/cocina-website/images/tool2.png" alt="An image"></p>
<ol start="4">
<li>和步骤三相反，鼠标移动到调试工具的某个页面元素，手机对应的元素也会高亮显示</li>
</ol>
<p><img src="/cocina-website/images/tool2.png" alt="An image"></p>
<p><img src="/cocina-website/images/tool3.png" alt="An image"></p>
</span></div></div><div class="blogSocialSection"></div></div><div class="blog-recent"><a class="button" href="/cocina-website/blog">Recent Posts</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#开发需要了解的基础知识">开发需要了解的基础知识</a></li><li><a href="#开发需要安装的工具">开发需要安装的工具</a></li><li><a href="#reactnative环境的配置">ReactNative环境的配置</a></li><li><a href="#工程的目录介绍">工程的目录介绍</a></li><li><a href="#代码说明">代码说明</a></li><li><a href="#调试工具">调试工具</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/cocina-website/" class="nav-home"><img src="/cocina-website/img/docusaurus.svg" alt="Cocina" width="66" height="58"/></a><div><h5>Docs</h5><a href="/cocina-website/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/cocina-website/docs/en/doc2.html">Guides (or other categories)</a><a href="/cocina-website/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/cocina-website/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/cocina-website/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/cocina-website/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 Your Name or Your Company Name</section></footer></div></body></html>